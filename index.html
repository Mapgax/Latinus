<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ludus Latinus â€“ Latein spielerisch lernen</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --bg:           #07091a;
            --pink:         #FF2D78;
            --gold:         #FFD700;
            --cyan:         #00F5FF;
            --purple:       #B44FFF;
            --green:        #22c55e;
            --orange:       #f59e0b;
            --red:          #ef4444;
            --glass:        rgba(255,255,255,0.07);
            --glass-border: rgba(255,255,255,0.14);
            --text:         #EEF0FF;
            --text-dim:     rgba(238,240,255,0.5);
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg);
            min-height: 100vh;
            color: var(--text);
            overflow-x: hidden;
            position: relative;
        }

        /* â”€â”€ Ambient light blobs (pure CSS, no JS) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .blob {
            position: fixed;
            border-radius: 50%;
            pointer-events: none;
            z-index: 0;
            filter: blur(80px);
            animation: drift 20s ease-in-out infinite alternate;
        }
        .blob-1 {
            width: 550px; height: 550px;
            top: -180px; left: -180px;
            background: radial-gradient(circle, rgba(255,45,120,0.22), transparent 70%);
            animation-duration: 18s;
        }
        .blob-2 {
            width: 480px; height: 480px;
            bottom: -120px; right: -120px;
            background: radial-gradient(circle, rgba(0,245,255,0.16), transparent 70%);
            animation-duration: 24s;
            animation-direction: alternate-reverse;
        }
        .blob-3 {
            width: 380px; height: 380px;
            top: 45%; left: 48%;
            transform: translate(-50%, -50%);
            background: radial-gradient(circle, rgba(180,79,255,0.13), transparent 70%);
            animation-duration: 30s;
        }
        @keyframes drift {
            0%   { transform: translate(0,0)     scale(1); }
            100% { transform: translate(60px,50px) scale(1.18); }
        }

        /* â”€â”€ Layout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .container {
            max-width: 860px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }

        /* â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        header {
            text-align: center;
            margin-bottom: 2.5rem;
            animation: fadeInDown 0.7s ease;
        }

        h1 {
            font-family: 'Cinzel', serif;
            font-size: 3.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, #FF2D78 0%, #FFD700 50%, #00F5FF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 0.06em;
            margin-bottom: 0.4rem;
            cursor: pointer;
            transition: opacity 0.2s;
        }
        h1:hover { opacity: 0.8; }

        .subtitle {
            font-size: 1.05rem;
            color: var(--text-dim);
            font-style: italic;
            font-weight: 300;
            margin-bottom: 1.3rem;
        }

        /* â”€â”€ Language Selector â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .language-selector {
            display: flex;
            gap: 0.6rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .lang-btn {
            padding: 0.38rem 1.1rem;
            background: transparent;
            border: 1.5px solid var(--glass-border);
            color: var(--text-dim);
            font-family: 'Outfit', sans-serif;
            font-size: 0.84rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.25s ease;
            border-radius: 20px;
        }
        .lang-btn:hover, .lang-btn.active {
            background: rgba(255,45,120,0.12);
            border-color: rgba(255,45,120,0.5);
            color: var(--text);
            box-shadow: 0 0 14px rgba(255,45,120,0.2);
        }

        /* â”€â”€ Score Display â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .score-display {
            background: var(--glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            padding: 1rem 1.5rem;
            border-radius: 16px;
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: space-around;
            align-items: center;
            animation: fadeIn 0.5s ease 0.15s backwards;
        }

        .score-item { text-align: center; }

        .score-label {
            font-size: 0.7rem;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 0.14em;
            font-weight: 600;
            margin-bottom: 0.15rem;
        }

        .score-value {
            font-family: 'Cinzel', serif;
            font-size: 1.85rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--pink), var(--gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* â”€â”€ Game Card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .game-card {
            background: var(--glass);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid var(--glass-border);
            padding: 2.5rem;
            border-radius: 24px;
            position: relative;
            overflow: hidden;
            animation: fadeIn 0.5s ease 0.25s backwards;
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--pink), var(--gold), var(--cyan), var(--purple), var(--pink));
            background-size: 200% 100%;
            animation: shimmerBar 4s linear infinite;
        }
        @keyframes shimmerBar {
            0%   { background-position: 0% 0%; }
            100% { background-position: 200% 0%; }
        }

        /* â”€â”€ Section titles â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .selection-title {
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 0.4rem;
        }
        .selection-sub {
            font-size: 0.95rem;
            color: var(--text-dim);
            margin-bottom: 1.8rem;
        }

        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
           STEP 1 â€“ TOPIC SELECTION
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .topic-selection { text-align: center; }

        .topic-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .topic-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.6rem 1rem;
            background: rgba(255,255,255,0.04);
            border: 1.5px solid var(--glass-border);
            border-radius: 20px;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease, background 0.3s ease;
            font-family: 'Outfit', sans-serif;
            color: var(--text);
            gap: 0.45rem;
            position: relative;
            overflow: hidden;
        }

        /* Individual glow per topic */
        .topic-card[data-topic="mythen"]:hover {
            transform: translateY(-6px);
            box-shadow: 0 12px 35px rgba(255,45,120,0.3);
            border-color: rgba(255,45,120,0.55);
            background: rgba(255,45,120,0.07);
        }
        .topic-card[data-topic="geschichte"]:hover {
            transform: translateY(-6px);
            box-shadow: 0 12px 35px rgba(255,215,0,0.28);
            border-color: rgba(255,215,0,0.55);
            background: rgba(255,215,0,0.06);
        }
        .topic-card[data-topic="vokabeln"]:hover {
            transform: translateY(-6px);
            box-shadow: 0 12px 35px rgba(0,245,255,0.25);
            border-color: rgba(0,245,255,0.5);
            background: rgba(0,245,255,0.05);
        }
        .topic-card[data-topic="ueberraschung"]:hover {
            transform: translateY(-6px);
            box-shadow: 0 12px 35px rgba(180,79,255,0.3);
            border-color: rgba(180,79,255,0.55);
            background: rgba(180,79,255,0.07);
        }

        .topic-emoji {
            font-size: 2.3rem;
            display: block;
            filter: drop-shadow(0 0 8px rgba(255,255,255,0.25));
            transition: transform 0.3s ease;
        }
        .topic-card:hover .topic-emoji { transform: scale(1.12) rotate(-5deg); }

        .topic-name {
            font-size: 1rem;
            font-weight: 600;
        }

        .topic-desc {
            font-size: 0.76rem;
            color: var(--text-dim);
            font-weight: 400;
        }

        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
           STEP 2 â€“ DIFFICULTY SELECTION
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .difficulty-selection { text-align: center; }

        .step-back {
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
            background: transparent;
            border: none;
            color: var(--text-dim);
            font-family: 'Outfit', sans-serif;
            font-size: 0.85rem;
            cursor: pointer;
            margin-bottom: 1rem;
            padding: 0.3rem 0.4rem;
            border-radius: 6px;
            transition: color 0.2s;
        }
        .step-back:hover { color: var(--text); }

        .selected-topic-hint {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            background: rgba(255,255,255,0.07);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 0.3rem 1rem;
            font-size: 0.83rem;
            color: var(--text-dim);
            margin-bottom: 1.4rem;
        }

        .difficulty-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 0.5rem;
        }

        .difficulty-btn {
            padding: 1.2rem 2.2rem;
            font-family: 'Cinzel', serif;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 14px;
            min-width: 140px;
        }

        .difficulty-btn.easy {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            box-shadow: 0 4px 20px rgba(34,197,94,0.3);
        }
        .difficulty-btn.medium {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            box-shadow: 0 4px 20px rgba(245,158,11,0.3);
        }
        .difficulty-btn.hard {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            box-shadow: 0 4px 20px rgba(239,68,68,0.3);
        }
        .difficulty-btn.easy:hover  { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(34,197,94,0.5);  filter: brightness(1.08); }
        .difficulty-btn.medium:hover{ transform: translateY(-5px); box-shadow: 0 10px 30px rgba(245,158,11,0.5); filter: brightness(1.08); }
        .difficulty-btn.hard:hover  { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(239,68,68,0.5);  filter: brightness(1.08); }

        .difficulty-btn .points-hint {
            display: block;
            font-family: 'Outfit', sans-serif;
            font-size: 0.75rem;
            font-weight: 400;
            opacity: 0.85;
            margin-top: 0.25rem;
        }

        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
           STEP 3 â€“ QUESTION CONTAINER
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .question-container { display: none; }
        .question-container.active {
            display: block;
            animation: slideIn 0.4s ease;
        }

        .question-header {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.8rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--glass-border);
        }

        .difficulty-badge, .topic-badge {
            padding: 0.28rem 0.85rem;
            font-family: 'Outfit', sans-serif;
            font-size: 0.74rem;
            font-weight: 600;
            border-radius: 20px;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            white-space: nowrap;
        }

        .topic-badge {
            background: rgba(0,245,255,0.1);
            border: 1px solid rgba(0,245,255,0.3);
            color: #5EEEFF;
        }

        .difficulty-badge {
            background: rgba(255,45,120,0.15);
            border: 1px solid rgba(255,45,120,0.4);
            color: #FF7FB0;
        }

        .question-number {
            font-size: 0.88rem;
            color: var(--text-dim);
            font-weight: 500;
            margin-left: auto;
        }

        .back-btn {
            padding: 0.28rem 0.85rem;
            background: transparent;
            border: 1.5px solid var(--glass-border);
            color: var(--text-dim);
            font-family: 'Outfit', sans-serif;
            font-size: 0.74rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.25s ease;
            border-radius: 20px;
            white-space: nowrap;
        }
        .back-btn:hover {
            border-color: rgba(255,255,255,0.35);
            color: var(--text);
            background: var(--glass);
        }

        /* â”€â”€ Loading â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .loading {
            text-align: center;
            padding: 2.5rem;
            color: var(--text-dim);
        }

        .spinner {
            width: 44px;
            height: 44px;
            border: 3px solid rgba(255,255,255,0.08);
            border-top: 3px solid var(--pink);
            border-radius: 50%;
            animation: spin 0.85s linear infinite;
            margin: 0 auto 1rem;
        }

        /* â”€â”€ Question & Answers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .question-text {
            font-size: 1.45rem;
            line-height: 1.65;
            font-weight: 500;
            color: var(--text);
            margin-bottom: 1.8rem;
        }

        .answer-options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .answer-btn {
            padding: 1rem 1.3rem;
            background: rgba(255,255,255,0.05);
            border: 1.5px solid var(--glass-border);
            color: var(--text);
            font-family: 'Outfit', sans-serif;
            font-size: 1rem;
            font-weight: 400;
            text-align: left;
            cursor: pointer;
            transition: all 0.22s ease;
            border-radius: 12px;
        }

        .answer-btn:hover:not(:disabled) {
            background: rgba(255,255,255,0.1);
            border-color: rgba(255,255,255,0.32);
            transform: translateX(6px);
        }

        .answer-btn.correct {
            background: rgba(34,197,94,0.16);
            border-color: rgba(34,197,94,0.55);
            color: #86efac;
        }

        .answer-btn.incorrect {
            background: rgba(239,68,68,0.14);
            border-color: rgba(239,68,68,0.5);
            color: #fca5a5;
        }

        .answer-btn:disabled { cursor: not-allowed; opacity: 0.72; }

        /* â”€â”€ Feedback â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .feedback {
            margin-top: 1.2rem;
            padding: 1.2rem 1.4rem;
            background: rgba(255,215,0,0.06);
            border: 1px solid rgba(255,215,0,0.22);
            border-radius: 12px;
            display: none;
        }
        .feedback.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .feedback-title {
            font-family: 'Cinzel', serif;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: var(--gold);
        }

        .feedback-text {
            font-size: 0.95rem;
            line-height: 1.65;
            color: var(--text-dim);
            white-space: pre-line;
        }

        /* â”€â”€ Next Button â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .next-btn {
            margin-top: 1.3rem;
            padding: 0.85rem 2.2rem;
            background: linear-gradient(135deg, var(--pink), var(--purple));
            color: white;
            border: none;
            font-family: 'Outfit', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 12px;
            letter-spacing: 0.02em;
            display: none;
            box-shadow: 0 4px 22px rgba(255,45,120,0.3);
        }
        .next-btn.show {
            display: inline-block;
            animation: fadeIn 0.3s ease;
        }
        .next-btn:hover {
            transform: scale(1.04);
            box-shadow: 0 8px 30px rgba(255,45,120,0.5);
            filter: brightness(1.1);
        }

        /* â”€â”€ Error â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .error-message {
            background: rgba(239,68,68,0.12);
            border: 1px solid rgba(239,68,68,0.38);
            color: #fca5a5;
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
        }

        /* â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        footer {
            text-align: center;
            margin-top: 2.5rem;
            padding: 1.5rem;
            color: var(--text-dim);
            font-size: 0.8rem;
            opacity: 0.65;
            animation: fadeIn 0.5s ease 0.5s backwards;
        }

        /* â”€â”€ Animations â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        @keyframes fadeIn {
            from { opacity: 0; }
            to   { opacity: 1; }
        }
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-18px); }
            to   { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(18px); }
            to   { opacity: 1; transform: translateX(0); }
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* â”€â”€ Responsive â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        @media (max-width: 600px) {
            h1 { font-size: 2.4rem; }
            .game-card { padding: 1.6rem 1.2rem; }
            .difficulty-buttons { flex-direction: column; }
            .difficulty-btn { width: 100%; }
            .topic-grid { gap: 0.75rem; }
            .topic-card { padding: 1.2rem 0.8rem; }
            .topic-emoji { font-size: 1.9rem; }
        }

        @media (max-width: 480px) {
            .container { padding: 1rem; }
            h1 { font-size: 2rem; }
            .subtitle { font-size: 0.9rem; }
            .score-label { font-size: 0.67rem; }
            .score-value { font-size: 1.5rem; }
            .question-text { font-size: 1.25rem; margin-bottom: 1.4rem; }
            .question-number { margin-left: 0; width: 100%; order: 3; }
            .game-card { padding: 1.3rem 0.9rem; }
            .topic-name { font-size: 0.9rem; }
            .topic-desc { font-size: 0.7rem; }
            .topic-emoji { font-size: 1.7rem; }
            header { margin-bottom: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    <div class="blob blob-3"></div>

    <div class="container">
        <header>
            <h1 onclick="resetToStart()" title="ZurÃ¼ck zum Start">Ludus Latinus</h1>
            <p class="subtitle" data-de="Latein spielerisch lernen" data-la="Ludus quaestionum Latinarum" data-ch="Latyn spielerisch lerne">
                Latein spielerisch lernen
            </p>
            <div class="language-selector">
                <button class="lang-btn active" data-lang="de">Deutsch</button>
                <button class="lang-btn" data-lang="la">Latine</button>
                <button class="lang-btn" data-lang="ch">SchwiizerdÃ¼tsch</button>
            </div>
        </header>

        <!-- SCORE -->
        <div class="score-display">
            <div class="score-item">
                <div class="score-label" data-de="Punkte" data-la="Puncta" data-ch="PÃ¼nkt">Punkte</div>
                <div class="score-value" id="score">0</div>
            </div>
            <div class="score-item">
                <div class="score-label" data-de="Richtig" data-la="Recte" data-ch="Richtig">Richtig</div>
                <div class="score-value" id="correct">0</div>
            </div>
            <div class="score-item">
                <div class="score-label" data-de="Gesamt" data-la="Summa" data-ch="Gsamt">Gesamt</div>
                <div class="score-value" id="total">0</div>
            </div>
        </div>

        <div class="game-card">

            <!-- â•â• STEP 1: TOPIC â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <div class="topic-selection" id="topicSelection">
                <h2 class="selection-title"
                    data-de="Was willst du lernen?"
                    data-la="Quid discere vis?"
                    data-ch="Was wetsch lerne?">
                    Was willst du lernen?
                </h2>
                <p class="selection-sub"
                   data-de="WÃ¤hle ein Themengebiet"
                   data-la="Elige thema"
                   data-ch="WÃ¤hl es Thema">
                    WÃ¤hle ein Themengebiet
                </p>
                <div class="topic-grid">
                    <button class="topic-card" data-topic="mythen" onclick="selectTopic('mythen')">
                        <span class="topic-emoji">ğŸ›ï¸</span>
                        <span class="topic-name"
                              data-de="Mythen"
                              data-la="Mythi"
                              data-ch="Mythe">Mythen</span>
                        <span class="topic-desc"
                              data-de="GÃ¶tter, Helden & Sagen"
                              data-la="Dei, Heroes, Fabulae"
                              data-ch="GÃ¶tter, Helde & Sage">GÃ¶tter, Helden & Sagen</span>
                    </button>

                    <button class="topic-card" data-topic="geschichte" onclick="selectTopic('geschichte')">
                        <span class="topic-emoji">âš”ï¸</span>
                        <span class="topic-name"
                              data-de="Geschichte"
                              data-la="Historia"
                              data-ch="Geschichte">Geschichte</span>
                        <span class="topic-desc"
                              data-de="Rom, Politik & Kultur"
                              data-la="Roma, Politica, Cultura"
                              data-ch="Rom, Politik & Kultur">Rom, Politik & Kultur</span>
                    </button>

                    <button class="topic-card" data-topic="vokabeln" onclick="selectTopic('vokabeln')">
                        <span class="topic-emoji">ğŸ“–</span>
                        <span class="topic-name"
                              data-de="Vokabeln & Grammatik"
                              data-la="Vocabula & Grammatica"
                              data-ch="Vokable & Grammatik">Vokabeln & Grammatik</span>
                        <span class="topic-desc"
                              data-de="Sprache & Formen"
                              data-la="Lingua et Formae"
                              data-ch="Sprooch & Forme">Sprache & Formen</span>
                    </button>

                    <button class="topic-card" data-topic="ueberraschung" onclick="selectTopic('ueberraschung')">
                        <span class="topic-emoji">ğŸ²</span>
                        <span class="topic-name"
                              data-de="Ãœberrasche mich!"
                              data-la="Fortuito!"
                              data-ch="Ãœberrasch mich!">Ãœberrasche mich!</span>
                        <span class="topic-desc"
                              data-de="Alles gemischt"
                              data-la="Omnia mixta"
                              data-ch="Alles gmischt">Alles gemischt</span>
                    </button>
                </div>
            </div>

            <!-- â•â• STEP 2: DIFFICULTY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <div class="difficulty-selection" id="difficultySelection" style="display: none;">
                <div style="text-align: left;">
                    <button class="step-back" onclick="backToTopics()">â† ZurÃ¼ck</button>
                </div>
                <div id="selectedTopicHint" class="selected-topic-hint"></div>
                <h2 class="selection-title"
                    data-de="WÃ¤hle deinen Level"
                    data-la="Elige gradum"
                    data-ch="WÃ¤hl din Level">
                    WÃ¤hle deinen Level
                </h2>
                <p class="selection-sub"
                   data-de="Schwierigkeitsgrad festlegen"
                   data-la="Gradum difficultatis elige"
                   data-ch="SchwirigkeitsgrÃ¤d festlege">
                    Schwierigkeitsgrad festlegen
                </p>
                <div class="difficulty-buttons">
                    <button class="difficulty-btn easy" onclick="startGame('easy')">
                        <span data-de="Einfach" data-la="Facilis" data-ch="Eifach">Einfach</span>
                        <span class="points-hint" data-de="10 Punkte" data-la="X puncta" data-ch="10 PÃ¼nkt">10 Punkte</span>
                    </button>
                    <button class="difficulty-btn medium" onclick="startGame('medium')">
                        <span data-de="Mittel" data-la="Medius" data-ch="Mittel">Mittel</span>
                        <span class="points-hint" data-de="25 Punkte" data-la="XXV puncta" data-ch="25 PÃ¼nkt">25 Punkte</span>
                    </button>
                    <button class="difficulty-btn hard" onclick="startGame('hard')">
                        <span data-de="Schwer" data-la="Difficilis" data-ch="SchwÃ¤r">Schwer</span>
                        <span class="points-hint" data-de="50 Punkte" data-la="L puncta" data-ch="50 PÃ¼nkt">50 Punkte</span>
                    </button>
                </div>
            </div>

            <!-- â•â• STEP 3: QUESTION â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <div class="question-container" id="questionContainer">
                <div class="question-header">
                    <span class="topic-badge"      id="topicBadge"></span>
                    <span class="difficulty-badge" id="difficultyBadge"></span>
                    <span class="question-number"  id="questionNumber"></span>
                    <button class="back-btn" onclick="changeDifficulty()"
                            data-de="Level Ã¤ndern" data-la="Gradum mutare" data-ch="Level Ã¤nder">
                        Level Ã¤ndern
                    </button>
                </div>

                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p data-de="Frage wird geladenâ€¦" data-la="Quaestio paraturâ€¦" data-ch="Frag wird gladeâ€¦">Frage wird geladenâ€¦</p>
                </div>

                <div id="questionContent" style="display: none;">
                    <div class="question-text"  id="questionText"></div>
                    <div class="answer-options"  id="answerOptions"></div>
                    <div class="feedback"        id="feedback">
                        <div class="feedback-title" id="feedbackTitle"></div>
                        <div class="feedback-text"  id="feedbackText"></div>
                    </div>
                    <button class="next-btn" id="nextBtn" onclick="nextQuestion()"
                            data-de="NÃ¤chste Frage â†’" data-la="Proxima quaestio â†’" data-ch="NÃ¶gschti Frag â†’">
                        NÃ¤chste Frage â†’
                    </button>
                </div>
            </div>

        </div><!-- .game-card -->

        <footer>
            <p>Â© 2025 â€“ Condita a Mirjam DÃ¶pfert, Lehrperson fÃ¼r Latein an der KSK</p>
            <p style="margin-top: 0.4rem;">
                <span data-de="Powered by Claude AI & OpenAI â€“ Keine Daten werden gespeichert"
                      data-la="Potentia Claude AI et OpenAI â€“ Nulla data servantur"
                      data-ch="Powered by Claude AI & OpenAI â€“ Kei Date werded gspeicheret">
                    Powered by Claude AI & OpenAI â€“ Keine Daten werden gespeichert
                </span>
            </p>
        </footer>
    </div>

    <script>
        // â”€â”€ Game State â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        let currentLanguage   = 'de';
        let currentDifficulty = null;
        let currentTopic      = null;
        let currentQuestion   = null;
        let score             = 0;
        let correctAnswers    = 0;
        let totalQuestions    = 0;
        let previousQuestions = [];

        const pointValues = { easy: 10, medium: 25, hard: 50 };

        // Human-readable topic labels per language
        const topicLabels = {
            de: {
                mythen:        'ğŸ›ï¸ Mythen',
                geschichte:    'âš”ï¸ Geschichte',
                vokabeln:      'ğŸ“– Vokabeln & Grammatik',
                ueberraschung: 'ğŸ² Ãœberraschung'
            },
            la: {
                mythen:        'ğŸ›ï¸ Mythi',
                geschichte:    'âš”ï¸ Historia',
                vokabeln:      'ğŸ“– Vocabula & Grammatica',
                ueberraschung: 'ğŸ² Fortuito'
            },
            ch: {
                mythen:        'ğŸ›ï¸ Mythe',
                geschichte:    'âš”ï¸ Geschichte',
                vokabeln:      'ğŸ“– Vokable & Grammatik',
                ueberraschung: 'ğŸ² Ãœberraschig'
            }
        };

        const translations = {
            de: {
                difficultyEasy:   'Einfach',
                difficultyMedium: 'Mittel',
                difficultyHard:   'Schwer',
                questionPrefix:   'Frage',
                correct:          'Richtig! ğŸ‰',
                incorrect:        'Leider falsch! ğŸ˜”',
                correctAnswer:    'Die richtige Antwort war:',
                loading:          'Frage wird geladenâ€¦',
                error:            'Fehler beim Laden der Frage. Bitte versuche es erneut.'
            },
            la: {
                difficultyEasy:   'Facilis',
                difficultyMedium: 'Medius',
                difficultyHard:   'Difficilis',
                questionPrefix:   'Quaestio',
                correct:          'Recte! ğŸ‰',
                incorrect:        'Non recte! ğŸ˜”',
                correctAnswer:    'Responsio recta erat:',
                loading:          'Quaestio paraturâ€¦',
                error:            'Error in quaestione paranda. Iterum tempta.'
            },
            ch: {
                difficultyEasy:   'Eifach',
                difficultyMedium: 'Mittel',
                difficultyHard:   'SchwÃ¤r',
                questionPrefix:   'Frag',
                correct:          'Richtig! ğŸ‰',
                incorrect:        'LÃ¤ider falsch! ğŸ˜”',
                correctAnswer:    'Di richtigi Antwort isch gsi:',
                loading:          'Frag wird gladeâ€¦',
                error:            'FÃ¤hler bim Lade. Bitte probiers nomol.'
            }
        };

        // â”€â”€ Language Switching â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentLanguage = btn.dataset.lang;
                updateLanguage();
                if (currentTopic) updateTopicHint();
            });
        });

        function updateLanguage() {
            document.querySelectorAll('[data-de]').forEach(el => {
                if (el.hasAttribute(`data-${currentLanguage}`)) {
                    el.textContent = el.getAttribute(`data-${currentLanguage}`);
                }
            });
        }

        // â”€â”€ Step 1: Topic â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function selectTopic(topic) {
            currentTopic = topic;
            document.getElementById('topicSelection').style.display = 'none';
            document.getElementById('difficultySelection').style.display = 'block';
            updateTopicHint();
        }

        function updateTopicHint() {
            const hint = document.getElementById('selectedTopicHint');
            hint.textContent = topicLabels[currentLanguage][currentTopic] || '';
        }

        function backToTopics() {
            currentTopic = null;
            document.getElementById('difficultySelection').style.display = 'none';
            document.getElementById('topicSelection').style.display = 'block';
        }

        // â”€â”€ Step 2: Start Game â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function startGame(difficulty) {
            currentDifficulty = difficulty;
            document.getElementById('difficultySelection').style.display = 'none';
            document.getElementById('questionContainer').classList.add('active');

            // Set badges
            const diffKey = `difficulty${difficulty.charAt(0).toUpperCase() + difficulty.slice(1)}`;
            document.getElementById('difficultyBadge').textContent = translations[currentLanguage][diffKey];
            document.getElementById('topicBadge').textContent = topicLabels[currentLanguage][currentTopic] || '';

            loadQuestion();
        }

        // â”€â”€ Load Question from API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        async function loadQuestion() {
            document.getElementById('loading').style.display = 'block';
            document.getElementById('questionContent').style.display = 'none';
            document.getElementById('feedback').classList.remove('show');
            document.getElementById('nextBtn').classList.remove('show');

            try {
                const response = await fetch('/api/question', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        difficulty:        currentDifficulty,
                        topic:             currentTopic,
                        previousQuestions: previousQuestions
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    console.error('API Error:', errorData);
                    throw new Error(errorData.error || 'API request failed');
                }

                currentQuestion = await response.json();
                previousQuestions.push(currentQuestion.question);
                displayQuestion();

            } catch (error) {
                console.error('Error loading question:', error);
                document.getElementById('loading').innerHTML = `
                    <div class="error-message">
                        ${translations[currentLanguage].error}<br>
                        <small style="margin-top: 0.5rem; display: block; opacity: 0.6;">
                            Details: ${error.message}
                        </small>
                    </div>
                    <button class="next-btn show" onclick="loadQuestion()" style="display:inline-block; margin-top:1rem;">
                        Erneut versuchen
                    </button>
                `;
            }
        }

        // â”€â”€ Display Question â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function displayQuestion() {
            totalQuestions++;
            document.getElementById('loading').style.display = 'none';
            document.getElementById('questionContent').style.display = 'block';

            document.getElementById('questionNumber').textContent =
                `${translations[currentLanguage].questionPrefix} ${totalQuestions}`;
            document.getElementById('questionText').textContent = currentQuestion.question;

            const optionsContainer = document.getElementById('answerOptions');
            optionsContainer.innerHTML = '';

            currentQuestion.options.forEach((option, index) => {
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.textContent = option;
                btn.onclick = () => checkAnswer(index);
                optionsContainer.appendChild(btn);
            });

            updateScore();
        }

        // â”€â”€ Check Answer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function checkAnswer(selectedIndex) {
            const buttons = document.querySelectorAll('.answer-btn');
            buttons.forEach(btn => btn.disabled = true);

            const isCorrect = selectedIndex === currentQuestion.correctIndex;
            buttons[selectedIndex].classList.add(isCorrect ? 'correct' : 'incorrect');
            if (!isCorrect) {
                buttons[currentQuestion.correctIndex].classList.add('correct');
            }

            if (isCorrect) {
                correctAnswers++;
                score += pointValues[currentDifficulty];
            }

            updateScore();
            showFeedback(isCorrect);
        }

        // â”€â”€ Show Feedback â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function showFeedback(isCorrect) {
            const feedback = document.getElementById('feedback');
            document.getElementById('feedbackTitle').textContent = isCorrect
                ? translations[currentLanguage].correct
                : translations[currentLanguage].incorrect;

            let explanation = currentQuestion.explanation;
            if (!isCorrect) {
                explanation = `${translations[currentLanguage].correctAnswer} ${currentQuestion.options[currentQuestion.correctIndex]}\n\n${explanation}`;
            }

            document.getElementById('feedbackText').textContent = explanation;
            feedback.classList.add('show');
            document.getElementById('nextBtn').classList.add('show');
        }

        function nextQuestion() { loadQuestion(); }

        function updateScore() {
            document.getElementById('score').textContent   = score;
            document.getElementById('correct').textContent = correctAnswers;
            document.getElementById('total').textContent   = totalQuestions;
        }

        // â”€â”€ Change Difficulty (keep topic + score) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function changeDifficulty() {
            currentDifficulty = null;
            currentQuestion   = null;

            document.getElementById('questionContainer').classList.remove('active');
            document.getElementById('difficultySelection').style.display = 'block';
            document.getElementById('loading').style.display = 'none';
            document.getElementById('questionContent').style.display = 'none';
            updateTopicHint();
            resetLoadingHtml();
        }

        // â”€â”€ Full Reset (header click) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function resetToStart() {
            score = 0; correctAnswers = 0; totalQuestions = 0;
            previousQuestions = [];
            currentDifficulty = null; currentTopic = null; currentQuestion = null;
            updateScore();

            document.getElementById('questionContainer').classList.remove('active');
            document.getElementById('difficultySelection').style.display = 'none';
            document.getElementById('topicSelection').style.display = 'block';
            document.getElementById('loading').style.display = 'none';
            document.getElementById('questionContent').style.display = 'none';
            resetLoadingHtml();
        }

        function resetLoadingHtml() {
            const lang = currentLanguage;
            document.getElementById('loading').innerHTML = `
                <div class="spinner"></div>
                <p data-de="Frage wird geladenâ€¦" data-la="Quaestio paraturâ€¦" data-ch="Frag wird gladeâ€¦">
                    ${lang === 'la' ? 'Quaestio paraturâ€¦' : lang === 'ch' ? 'Frag wird gladeâ€¦' : 'Frage wird geladenâ€¦'}
                </p>
            `;
        }

        // Initialize
        updateLanguage();
    </script>
</body>
</html>
